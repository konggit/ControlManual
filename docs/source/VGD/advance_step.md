# 高级用法

## 页面跳转
点击Design 左上角 “+” 出现如下界面  
![新建控制台](../images/steps/1newcontrolpad.png "页面跳转")  
操控台名称： 他会显示在终端界面的标题上(此处我们设为“页面跳转”)  
屏幕分辨率： 根据终端界面分辨率选择合适的大小分辨率  
点击"创建" 按钮进入设计界面


### 创建多个界面
设计器右上角点击 Demo1 右边的 " + ",出现如下串口  
![新建界面](../images/steps/2newwindow.png "新建界面")  
点击 "添加" 按钮  
#### 给界面添加背景图片
点击快捷按钮里的"导入图片"，  
![导入图片](../images/steps/3addimages.png "导入图片")  
选择图片所在的目录，打开目录后选择多个需要的图片。可以多次从多个目录里加入图片。  
#### 编辑界面
点击界面的编辑按钮  
![编辑界面](../images/steps/4editwindow.png "编辑界面")  
出现编辑界面，    
![编辑界面](../images/steps/5editwindow.png "编辑界面")  
点击 界面的背景图标 选择所需要的图片。  
![选择界面背景图片](../images/steps/6selectbackimage.png "选择界面背景图片")  
注意： 缩放控件至图片大小 复选框，选中表示 会改变控件的大小， 默认不选，这样图片会铺满整个界面(界面也是一个控件）    
点击界面的"确认"按钮完成界面的背景设置  

### 如图创建3个界面  
![创建3个界面](../images/steps/advance_1.png "创建3个界面")  
这里我们界面2，界面3 比 界面1 小, 防止显示界面2,3 的时候把界面1 挡住导航控件。  


### 在界面1里增加两个界面导航控件
选中界面1, 把“界面切换”控件拖到界面1上  
![界面切换控件](../images/steps/advance_2.png "界面切换控件")

### 设置“界面切换”控制

显示界面1 控件设置属性：

![界面切换控件](../images/steps/advance_3.png "界面切换控件")  
显示界面2 控件设置属性：

![界面切换控件](../images/steps/advance_4.png "界面切换控件")

这样我们 运行时候 点击”显示界面1“ 时候就 显示了界面1和界面2
                  点击”显示界面2" 时候就 显示了界面1和界面3
				  
				  
## 单个按钮 发送多条命令
在界面上拖入一个按钮和一个进度条  
![进度条控件](../images/steps/advance_5.png "进度条控件")  
把按钮绑定进度条，在按钮的属性设置了，勾选“绑定进度条”  
![按钮绑定进度条控件](../images/steps/advance_6.png "按钮绑定进度条控件")  
进度条名字填写 进度条的ID 号。  
设置进度条控件的属性  
![进度条控件](../images/steps/advance_7.png "进度条控件") 

这样就完成了如下的流程
1.按下按钮 (发送按钮按下的指令)--> 抬起按钮(发送抬起的指令,此处没有)---> 经过5秒--> 发送进度条的第1条指令---> 经过5秒--> 发送进度条的第2条指令

## 矩阵模式按钮功能(组合功能)
功能描述： 输入一组按钮, 按下输入的其中一个,其他按钮会弹起(类似组合框)
输出一组按钮,选中按下一个按钮, 会发送一个跟输入相关的一条命令  
我们以矩阵切换命令来举例  
比如:  

|命令|十六进制|  说明  |
|:---------:|----------|-----|
|SW 1 1\r\n |53 57 20 31 20 31 0D 0A| 输入1到输出1|
|SW 1 2\r\n |53 57 20 31 20 32 0D 0A| 输入1到输出2|
|SW 1 3\r\n |53 57 20 31 20 33 0D 0A| 输入1到输出3|
|SW 1 4\r\n |53 57 20 31 20 34 0D 0A| 输入1到输出4|
|SW 2 1\r\n |53 57 20 32 20 31 0D 0A| 输入2到输出1|
|SW 2 2\r\n |53 57 20 32 20 32 0D 0A| 输入2到输出2|
|SW 2 3\r\n |53 57 20 32 20 33 0D 0A| 输入2到输出3|
|SW 2 4\r\n |53 57 20 32 20 34 0D 0A| 输入2到输出4|

这里我们把指令的前5个字节赋给输入按钮 后3个字节赋予矩阵的输出按钮





|按钮|属性| 值 |说明 |
|:------:|-----|-----|-----|
| 输入1 | 设备 | 矩阵1| 按钮跟某个设备绑定|
|       | 自锁 |打勾 |自锁表示按下后松开鼠标不会自动弹起|
|       | 矩阵名称 |矩阵1| 绑定相同的设备名称|
|       | 矩阵类型 | 输入| 输入 类似与多选一的组合|
|       | 矩阵数据 |53 57 20 31 20| |
| 输入2 | 设备 | 矩阵1| 按钮跟某个设备绑定|
|       | 自锁 |打勾 |自锁表示按下后松开鼠标不会自动弹起|
|       | 矩阵名称 |矩阵1| 绑定相同的设备名称|
|       | 矩阵类型 | 输入| 输入 类似与多选一的组合|
|       | 矩阵数据 |53 57 20 32 20| |
| 输入3 | 设备 | 矩阵1| 按钮跟某个设备绑定|
|       | 自锁 |打勾 |自锁表示按下后松开鼠标不会自动弹起|
|       | 矩阵名称 |矩阵1| 绑定相同的设备名称|
|       | 矩阵类型 | 输入| 输入 类似与多选一的组合|
|       | 矩阵数据 |53 57 20 33 20| |
| 输入4 | 设备 | 矩阵1| 按钮跟某个设备绑定|
|       | 自锁 |打勾 |自锁表示按下后松开鼠标不会自动弹起|
|       | 矩阵名称 |矩阵1| 绑定相同的设备名称|
|       | 矩阵类型 | 输入| 输入 类似与多选一的组合|
|       | 矩阵数据 |53 57 20 34 20| |
| 输出1 | 设备 | 矩阵1| 按钮跟某个设备绑定|
|       | 自锁 |打勾 |自锁表示按下后松开鼠标不会自动弹起|
|       | 矩阵名称 |矩阵1| 绑定相同的设备名称|
|       | 矩阵类型 | 输出| 输出 类似有跟输入一起发送数据的功能|
|       | 矩阵数据 |31 0D 0A|
| 输出2 | 设备 | 矩阵1| 按钮跟某个设备绑定|
|       | 自锁 |打勾 |自锁表示按下后松开鼠标不会自动弹起|
|       | 矩阵名称 |矩阵1| 绑定相同的设备名称|
|       | 矩阵类型 | 输出| 输出 类似有跟输入一起发送数据的功能|
|       | 矩阵数据 |32 0D 0A| |
| 输出3 | 设备 | 矩阵1| 按钮跟某个设备绑定|
|       | 自锁 |打勾 |自锁表示按下后松开鼠标不会自动弹起|
|       | 矩阵名称 |矩阵1| 绑定相同的设备名称|
|       | 矩阵类型 | 输出| 输出 类似有跟输入一起发送数据的功能|
|       | 矩阵数据 |33 0D 0A| |
| 输出4 | 设备 | 矩阵1| 按钮跟某个设备绑定|
|       | 自锁 |打勾 |自锁表示按下后松开鼠标不会自动弹起|
|       | 矩阵名称 |矩阵1| 绑定相同的设备名称|
|       | 矩阵类型 | 输出| 输出 类似有跟输入一起发送数据的功能|
|       | 矩阵数据 |34 0D 0A| |


![矩阵输入属性](../images/steps/advance_8.png "矩阵输入属性") 
![矩阵输出属性](../images/steps/advance_9.png "矩阵输出属性") 

## 视频预监功能
- 视频源控件： 会出现设置的源的预览小窗口。
- 显示器控件： 类似大屏显示，可以同时显示多个源，带拖动位置,大小开窗漫游供能。主要用于控制流媒体大屏显示。
  这里如果是接分布式流媒体矩阵的话需要对接不同设备的编解码盒子

![视频源控件属性](../images/steps/advance_10.png "视频源控件属性")

![效果图](../images/steps/advance_11.png "效果图")
 将信号源上显示的预览拖入到显示器上，修改位置和大小。  
![反控](../images/steps/advance_12.png "反控")

反控 就是把当前显示设备的 鼠标 消息传给 信号源(比如PC),这个要流媒体支持才行。


## 滑动条
![滑动条](../images/steps/advance_13.png "滑动条")
在发送数据里用% 表示 当前滑动调的值(如果数据格式是Int16，则低字节先发)  
下图表示接收到的数据  
![滑动条接收数据](../images/steps/advance_14.png "滑动条接收数据")

## 电平控件
电平控件：接收到外部设备返回的信息(比如音量值) 在这个控件上显示对应范围的柱状图
一般用于音频设备 比如 音频的跳动
![电平控件](../images/steps/advance_15.png "电平控件")  
- 此处只支持十六进制的命令 
- 起始值： 0 表示 最小值为 0   
- 结束值： 100 表示 最小值为 十进制的100 
- 发送数据：就是发送给设备的命令(理解为查询命令) 
- 间隔： 多少时间发送一次查询命令  
- 接收数据头：设备返回的命令头部数据(参数变量前面的数据) 
  不一定是最前面的数据, 比如 头部数据 设为 4141, 设备发过来的数据是 AABB41416400  也能把6400 数值解出来。
  注意这里只解 4141 开始的 数字的 最后两个字节, 比如 设备发过来是 AABB4141643200 解出的数据是3200
![电平接收数据](../images/steps/advance_16.png "电平接收数据")  

## 设备状态
  只是用于检测设备是否在线
  
## 进度条
  用于将某个事情分段执行  
  进度条往往需要被其他控件(如按钮控件)绑定触发。
  ![进度条](../images/steps/advance_19.png "进度条") 
  比如一个按钮需要放送多条命令,或者向多个设备发送命令，就可以在按钮上绑定一个进度条。
  
## 密码框
  用于输入密码后显示新的界面  
  例子： 
  在工程上先建一个界面 ”界面2“ 默认为不显示  
  ![界面2](../images/steps/advance_17.png "界面2")  
  此处我们要把界面2现在界面1 上 所以 界面2 的 Z 值 设为1  
  在界面上拖入 ”密码框控件“
  设置如下： 
  ![密码框控件](../images/steps/advance_18.png "密码框控件")
  
  如此在解析器里输入正确的密码后，界面2就显示出来了。
  
## 定时器
  用于定时执行某些动作，或者周期性重复动作
    
  
  
    
  




















